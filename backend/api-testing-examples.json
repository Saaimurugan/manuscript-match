{
  "info": {
    "name": "ScholarFinder API Testing Collection",
    "description": "Comprehensive API testing examples for ScholarFinder backend",
    "version": "1.0.0"
  },
  "examples": {
    "authentication": {
      "register": {
        "method": "POST",
        "url": "/api/auth/register",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "email": "researcher@university.edu",
          "password": "SecurePassword123!"
        },
        "expectedResponse": {
          "status": 201,
          "body": {
            "user": {
              "id": "uuid-string",
              "email": "researcher@university.edu",
              "role": "USER",
              "createdAt": "2024-12-16T10:00:00.000Z"
            },
            "token": "jwt-token-string"
          }
        }
      },
      "login": {
        "method": "POST",
        "url": "/api/auth/login",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "email": "researcher@university.edu",
          "password": "SecurePassword123!"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "user": {
              "id": "uuid-string",
              "email": "researcher@university.edu",
              "role": "USER"
            },
            "token": "jwt-token-string"
          }
        }
      }
    },
    "processes": {
      "createProcess": {
        "method": "POST",
        "url": "/api/processes",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer jwt-token-string"
        },
        "body": {
          "title": "Machine Learning in Healthcare Research",
          "description": "Analysis of ML applications in medical diagnosis"
        },
        "expectedResponse": {
          "status": 201,
          "body": {
            "process": {
              "id": "uuid-string",
              "title": "Machine Learning in Healthcare Research",
              "status": "CREATED",
              "currentStep": "UPLOAD",
              "createdAt": "2024-12-16T10:00:00.000Z"
            }
          }
        }
      },
      "uploadManuscript": {
        "method": "POST",
        "url": "/api/processes/{processId}/upload",
        "headers": {
          "Authorization": "Bearer jwt-token-string",
          "Content-Type": "multipart/form-data"
        },
        "body": {
          "file": "manuscript.pdf (binary data)"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "success": true,
            "message": "File uploaded and processing started",
            "fileInfo": {
              "originalName": "manuscript.pdf",
              "size": 2048576,
              "mimeType": "application/pdf"
            }
          }
        }
      },
      "getMetadata": {
        "method": "GET",
        "url": "/api/processes/{processId}/metadata",
        "headers": {
          "Authorization": "Bearer jwt-token-string"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "metadata": {
              "title": "Machine Learning Applications in Medical Diagnosis",
              "authors": [
                {
                  "name": "Dr. Sarah Johnson",
                  "email": "sarah.johnson@university.edu",
                  "affiliations": [
                    {
                      "institutionName": "University Medical Center",
                      "department": "Computer Science",
                      "country": "United States"
                    }
                  ]
                }
              ],
              "abstract": "This study explores the application of machine learning...",
              "keywords": ["machine learning", "medical diagnosis", "healthcare"],
              "primaryFocusAreas": ["Computer Science", "Medicine"],
              "secondaryFocusAreas": ["Artificial Intelligence", "Healthcare Technology"]
            }
          }
        }
      }
    },
    "keywords": {
      "enhanceKeywords": {
        "method": "POST",
        "url": "/api/processes/{processId}/keywords/enhance",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer jwt-token-string"
        },
        "body": {
          "includeOriginal": true,
          "generateMeshTerms": true,
          "generateSearchStrings": true
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "enhancedKeywords": [
              "machine learning",
              "artificial intelligence",
              "deep learning",
              "neural networks",
              "medical diagnosis",
              "healthcare technology"
            ],
            "meshTerms": [
              "Machine Learning",
              "Artificial Intelligence",
              "Diagnosis, Computer-Assisted",
              "Medical Informatics"
            ],
            "searchStrings": {
              "pubmed": "(\"Machine Learning\"[MeSH Terms] OR \"Artificial Intelligence\"[MeSH Terms]) AND \"Diagnosis, Computer-Assisted\"[MeSH Terms]",
              "elsevier": "TITLE-ABS-KEY(\"machine learning\" OR \"artificial intelligence\") AND TITLE-ABS-KEY(\"medical diagnosis\")",
              "wiley": "\"machine learning\" AND \"medical diagnosis\" AND \"healthcare\"",
              "taylorFrancis": "\"machine learning\" AND \"artificial intelligence\" AND \"medical diagnosis\""
            }
          }
        }
      }
    },
    "search": {
      "initiateSearch": {
        "method": "POST",
        "url": "/api/processes/{processId}/search",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer jwt-token-string"
        },
        "body": {
          "keywords": ["machine learning", "medical diagnosis"],
          "meshTerms": ["Machine Learning", "Diagnosis, Computer-Assisted"],
          "databases": ["pubmed", "elsevier", "wiley", "taylorFrancis"],
          "searchOptions": {
            "maxResults": 500,
            "dateRange": {
              "from": "2020-01-01",
              "to": "2024-12-31"
            },
            "includeRecentPublications": true
          }
        },
        "expectedResponse": {
          "status": 202,
          "body": {
            "searchId": "uuid-string",
            "status": "INITIATED",
            "message": "Database search initiated",
            "estimatedDuration": "2-5 minutes"
          }
        }
      },
      "getSearchStatus": {
        "method": "GET",
        "url": "/api/processes/{processId}/search/status",
        "headers": {
          "Authorization": "Bearer jwt-token-string"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "status": "COMPLETED",
            "progress": {
              "completedDatabases": 4,
              "totalDatabases": 4,
              "totalAuthorsFound": 1247
            },
            "results": {
              "pubmed": {
                "authorsFound": 456,
                "searchTime": 2340
              },
              "elsevier": {
                "authorsFound": 389,
                "searchTime": 1890
              },
              "wiley": {
                "authorsFound": 234,
                "searchTime": 2100
              },
              "taylorFrancis": {
                "authorsFound": 168,
                "searchTime": 1750
              }
            }
          }
        }
      }
    },
    "validation": {
      "validateAuthors": {
        "method": "POST",
        "url": "/api/processes/{processId}/validate",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer jwt-token-string"
        },
        "body": {
          "validationRules": {
            "excludeManuscriptAuthors": true,
            "excludeCoAuthors": true,
            "excludeSameInstitution": true,
            "minPublications": 10,
            "maxRetractions": 1,
            "minClinicalTrials": 0,
            "excludeRecentCollaborators": true,
            "collaborationTimeframe": 24
          }
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "validationResults": {
              "totalCandidates": 1247,
              "validatedAuthors": 892,
              "excludedAuthors": 355,
              "exclusionReasons": {
                "manuscriptAuthor": 12,
                "coAuthor": 45,
                "sameInstitution": 78,
                "insufficientPublications": 156,
                "tooManyRetractions": 23,
                "recentCollaboration": 41
              }
            }
          }
        }
      }
    },
    "recommendations": {
      "getRecommendations": {
        "method": "GET",
        "url": "/api/processes/{processId}/recommendations",
        "headers": {
          "Authorization": "Bearer jwt-token-string"
        },
        "query": {
          "page": 1,
          "limit": 20,
          "sortBy": "relevanceScore",
          "sortOrder": "desc",
          "filters": {
            "minPublications": 15,
            "maxRetractions": 0,
            "countries": ["United States", "United Kingdom", "Canada"],
            "researchAreas": ["Machine Learning", "Medical Imaging", "Artificial Intelligence"]
          }
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "recommendations": [
              {
                "id": "uuid-string",
                "name": "Dr. Emily Chen",
                "email": "emily.chen@stanford.edu",
                "publicationCount": 67,
                "clinicalTrials": 12,
                "retractions": 0,
                "relevanceScore": 0.94,
                "researchAreas": ["Machine Learning", "Medical Imaging", "Computer Vision"],
                "primaryAffiliation": {
                  "institutionName": "Stanford University",
                  "department": "Computer Science",
                  "country": "United States"
                },
                "validationResult": {
                  "passed": true,
                  "conflicts": []
                }
              }
            ],
            "pagination": {
              "page": 1,
              "limit": 20,
              "total": 892,
              "totalPages": 45
            }
          }
        }
      }
    },
    "shortlist": {
      "createShortlist": {
        "method": "POST",
        "url": "/api/processes/{processId}/shortlist",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer jwt-token-string"
        },
        "body": {
          "name": "Final Reviewer Shortlist",
          "description": "Top 8 reviewers for ML in Healthcare manuscript",
          "selectedReviewers": [
            "author-uuid-1",
            "author-uuid-2",
            "author-uuid-3",
            "author-uuid-4",
            "author-uuid-5",
            "author-uuid-6",
            "author-uuid-7",
            "author-uuid-8"
          ],
          "includeAlternatives": true,
          "alternativeCount": 3
        },
        "expectedResponse": {
          "status": 201,
          "body": {
            "shortlist": {
              "id": "uuid-string",
              "name": "Final Reviewer Shortlist",
              "reviewerCount": 8,
              "alternativeCount": 3,
              "createdAt": "2024-12-16T10:00:00.000Z"
            }
          }
        }
      },
      "exportShortlist": {
        "method": "GET",
        "url": "/api/processes/{processId}/export/csv",
        "headers": {
          "Authorization": "Bearer jwt-token-string"
        },
        "query": {
          "shortlistId": "uuid-string"
        },
        "expectedResponse": {
          "status": 200,
          "headers": {
            "Content-Type": "text/csv",
            "Content-Disposition": "attachment; filename=reviewer-shortlist.csv"
          },
          "body": "Name,Email,Affiliation,Country,Publications,Clinical Trials,Retractions\nDr. Emily Chen,emily.chen@stanford.edu,Stanford University,United States,67,12,0\n..."
        }
      }
    },
    "admin": {
      "getAllProcesses": {
        "method": "GET",
        "url": "/api/admin/processes",
        "headers": {
          "Authorization": "Bearer admin-jwt-token-string"
        },
        "query": {
          "page": 1,
          "limit": 50,
          "status": "COMPLETED",
          "sortBy": "createdAt",
          "sortOrder": "desc"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "processes": [
              {
                "id": "uuid-string",
                "userId": "user-uuid",
                "title": "Machine Learning in Healthcare Research",
                "status": "COMPLETED",
                "currentStep": "EXPORT",
                "createdAt": "2024-12-16T10:00:00.000Z",
                "completedAt": "2024-12-16T11:30:00.000Z",
                "user": {
                  "email": "researcher@university.edu"
                }
              }
            ],
            "pagination": {
              "page": 1,
              "limit": 50,
              "total": 156,
              "totalPages": 4
            }
          }
        }
      },
      "getAdminStats": {
        "method": "GET",
        "url": "/api/admin/stats",
        "headers": {
          "Authorization": "Bearer admin-jwt-token-string"
        },
        "expectedResponse": {
          "status": 200,
          "body": {
            "totalUsers": 245,
            "totalProcesses": 1567,
            "totalLogs": 45678,
            "processStatusBreakdown": {
              "CREATED": 23,
              "UPLOADING": 5,
              "PROCESSING": 12,
              "SEARCHING": 8,
              "VALIDATING": 15,
              "COMPLETED": 1489,
              "ERROR": 15
            },
            "processStepBreakdown": {
              "UPLOAD": 28,
              "METADATA_EXTRACTION": 12,
              "KEYWORD_ENHANCEMENT": 8,
              "DATABASE_SEARCH": 15,
              "MANUAL_SEARCH": 5,
              "VALIDATION": 18,
              "RECOMMENDATIONS": 22,
              "SHORTLIST": 35,
              "EXPORT": 1424
            },
            "recentActivity": {
              "last24Hours": 45,
              "last7Days": 234,
              "last30Days": 1156
            }
          }
        }
      }
    },
    "health": {
      "healthCheck": {
        "method": "GET",
        "url": "/health",
        "expectedResponse": {
          "status": 200,
          "body": {
            "status": "healthy",
            "timestamp": "2024-12-16T10:00:00.000Z",
            "checks": {
              "database": "healthy",
              "redis": "healthy",
              "external_apis": "healthy"
            },
            "uptime": 86400,
            "version": "1.0.0"
          }
        }
      },
      "getMetrics": {
        "method": "GET",
        "url": "/metrics",
        "expectedResponse": {
          "status": 200,
          "body": {
            "system": {
              "cpuUsage": 23.5,
              "memoryUsage": 67.8,
              "diskUsage": 45.2,
              "uptime": 86400
            },
            "application": {
              "activeConnections": 12,
              "requestsPerMinute": 145,
              "averageResponseTime": 245,
              "errorRate": 0.02
            },
            "database": {
              "activeConnections": 8,
              "queryTime": 12.5,
              "cacheHitRate": 87.3
            }
          }
        }
      }
    }
  },
  "testScenarios": {
    "completeWorkflow": {
      "description": "Complete manuscript analysis workflow from upload to export",
      "steps": [
        {
          "step": 1,
          "action": "Register user",
          "endpoint": "POST /api/auth/register"
        },
        {
          "step": 2,
          "action": "Login user",
          "endpoint": "POST /api/auth/login"
        },
        {
          "step": 3,
          "action": "Create process",
          "endpoint": "POST /api/processes"
        },
        {
          "step": 4,
          "action": "Upload manuscript",
          "endpoint": "POST /api/processes/{id}/upload"
        },
        {
          "step": 5,
          "action": "Get extracted metadata",
          "endpoint": "GET /api/processes/{id}/metadata"
        },
        {
          "step": 6,
          "action": "Enhance keywords",
          "endpoint": "POST /api/processes/{id}/keywords/enhance"
        },
        {
          "step": 7,
          "action": "Initiate database search",
          "endpoint": "POST /api/processes/{id}/search"
        },
        {
          "step": 8,
          "action": "Check search status",
          "endpoint": "GET /api/processes/{id}/search/status"
        },
        {
          "step": 9,
          "action": "Validate authors",
          "endpoint": "POST /api/processes/{id}/validate"
        },
        {
          "step": 10,
          "action": "Get recommendations",
          "endpoint": "GET /api/processes/{id}/recommendations"
        },
        {
          "step": 11,
          "action": "Create shortlist",
          "endpoint": "POST /api/processes/{id}/shortlist"
        },
        {
          "step": 12,
          "action": "Export shortlist",
          "endpoint": "GET /api/processes/{id}/export/csv"
        }
      ]
    }
  }
}